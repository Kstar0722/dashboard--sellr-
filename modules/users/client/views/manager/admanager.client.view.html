<div ng-controller="AdmanagerController as vm" data-ng-init="init()">
  <section class="content adManager" >
    <div class="titlebar"><h1 class="md-display-2">Ad Manager</h1></div>
    <div class="pagecontent">


      <select
        ng-show="profiles.length>1"
        ng-click="getAds(currentProfile)"
        ng-model="currentProfile"
        ng-options="profile.profileId as profile.profileName for profile in profiles"></select>

      <div class="form-group" ng-show="myPermissions.indexOf(1004) > -1 || authentication.user.roles.indexOf('admin') > -1">
        <label>Account: </label>
        <md-select ng-model="selectAccountId" ng-change="init()">
          <md-option ng-repeat="account in accountsService.accounts" value="{{ account.accountId}}">{{ account.name }}:{{ account.address }}</md-option>
        </md-select>
      </div>

        <div class="live ">
          <div class="tab">
            LIVE ADS
          </div>
          <div class="ads md-whiteframe-5dp" >

            <div class="ad" ng-if="activeAd.ext == 'image' " ng-repeat="activeAd in activeAds">
              <span class="action delete" ng-click="deactivateAd(activeAd.adId, currentProfile)">
                      Remove Ad
                </span>
              <div class="img" ng-if="activeAd.ext == 'image'"
                   style="background-image: url({{'http://s3.amazonaws.com/beta.cdn.expertoncue.com/' + activeAd.value}});"></div>
              <p style="color:black">{{activeAd.name}}</p>
            </div>

          </div>
        </div>


      <div class="library">
      <div layout="row" layout-align="space-between center">
        <div>
            <h1 class="md-display-1">Media Library</h1>
        </div>
        <div>
          <md-button class="md-button md-raised upload" ngf-select="upload($files)" ngf-multiple="true">
            Upload Image
          </md-button>
        </div>
        <md-progress-linear md-mode="determinate" value="{{vm.determinateValue}}"
                            ng-show="vm.determinateValue">
        </md-progress-linear>
      </div>



        <div class="media">
          <div class="ads">
            <div class="ad" ng-repeat="media in allMedia">
              <span class="action" ng-click="activateAd(media.adId, currentProfile)">Add Ad</span>
              <div class="img" ng-if="media.ext == 'image'"
                   style="background-image: url({{'http://s3.amazonaws.com/beta.cdn.expertoncue.com/' + media.value}});"></div>
              <p>{{media.name}}</p>
              <button class="btn btn-danger" ng-click="deleteAd(media)">Delete</button>
            </div>
          </div>
        </div>
      </div>

      <h1 ng-show="vm.determinateValue">{{vm.determinateValue}}%</h1>


    </div>
</section>
</div>
