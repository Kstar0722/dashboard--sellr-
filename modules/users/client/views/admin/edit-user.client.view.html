<section class="inner">
  <div class="page-header">
    <h1>User <span ng-bind="user.username"></span></h1>
  </div>
  <div class="col-md-12">
    <form name="userForm" ng-submit="update(userForm.$valid)" novalidate>
      <fieldset>
        <div class="form-group" show-errors>
          <label for="firstName">First Name</label>
          <input type="text" id="firstName" name="firstName" class="form-control" ng-model="user.firstName"
                 placeholder="First Name" required/>
          <div ng-messages="userForm.firstName.$error" role="alert">
            <p class="help-block error-text" ng-message="required">First name is required.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
          <label for="lastName">Last Name</label>
          <input type="text" id="lastName" name="lastName" class="form-control" ng-model="user.lastName"
                 placeholder="Last Name" required/>
          <div ng-messages="userForm.lastName.$error" role="alert">
            <p class="help-block error-text" ng-message="required">Last name is required.</p>
          </div>
        </div>
        <div class="form-group" show-errors>
          <label class="control-label">Roles</label>
          <div class="controls">
            <div id="checks" ng-repeat="role in roles">
              <md-checkbox ng-checked="user.roles.indexOf(role.text) > -1" ng-click="addRole(role.text)">{{role.text}}
            </div>
            <div ng-messages="userForm.roles.$error" role="alert">
              <p class="help-block error-text" ng-message="required">At least one role is required.</p>
            </div>
          </div>

        </div>
        <div class="form-group">
          <label  id="location">Locations</label>
          <br>
          <md-button class="md-button md-raised md-primary"  ng-click="addNewLocation(locs)">Add
            Another Location
          </md-button>
          <div ng-repeat="location in locations">
            <div id="activeLocations" ng-if="location.address">
              <label ng-bind="location.address"></label>
            </div>

            <div id="newLocations" ng-if="!location.address">
              <input type="text" ng-model="location.name" name="" placeholder="Enter a Store Location"
                     >
              <md-button class="md-button md-raised md-primary" ng-show="$last" ng-click="addNewLocation(locs)">Add
                Another Location
              </md-button>
              <md-button class="md-button md-raised md-primary" ng-show="removeLocationBox" ng-click="removeLocation()">
                Remove Location
              </md-button>
            </div>
          </div>
        </div>
        <div class="form-group">
          <input type="submit" value="Update" class="btn btn-default" ng-click="addLocs()">
        </div>
        <div ng-show="error" class="text-danger">
          <strong ng-bind="error"></strong>
        </div>
      </fieldset>
    </form>
  </div>
</section>
